<!DOCTYPE html>

<html lang="en">

<head>
    <title>VocalPencil</title>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="/img/favicon/site.webmanifest">
    <link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <!-- bootstrapCSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../css/styles.css">
</head>

<body>

    <div class="nav-container position-relative">
        <a class="position-absolute d-flex justify-content-center"
            style="z-index: 1; left: 50%; transform: translateX(-50%);">
            <img src="/img/VocalPencil.svg" height="27" class="d-inline-block align-top" alt="VocalPencil"
                style="margin-top: 20px;">
        </a>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="https://vocalpencil.vercel.app/">Speaking</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://vocalpencil.vercel.app/writing">Writing</a>
                    </li>
                </ul>
                <!-- Dropdown button -->
                <div class="dropdown ml-auto">
                    <button class="btn btn-sm dropdown-toggle gift-button" type="button" id="dropdownMenuButton"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Give a Gift
                    </button>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                        <a class="dropdown-item" href="https://www.buymeacoffee.com/flyingbacksheep" target="_blank">Buy
                            me a coffee</a>
                        <button class="dropdown-item" data-toggle="modal" data-target="#wechatModal">ÂæÆ‰ø°ËµûËµè</button>
                    </div>
                </div>

                <div class="modal fade" id="wechatModal" tabindex="-1" role="dialog" aria-labelledby="wechatModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="wechatModalLabel">ÂæÆ‰ø°ËµûËµè</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body d-flex flex-column align-items-center">
                                <p class="text-center mb-3">ÊÑüË∞¢ÊÇ®ÁöÑÊîØÊåÅÔºåÁ•ùÊÇ®ËÄÉËØïÂ•ΩËøêüíØ, ‰∏çËÄÉËØï‰πüÂ•ΩËøêüîÖ!</p>
                                <img src="/img/wechat.png" alt="WeChat Image" class="img-fluid" />
                            </div>
                        </div>
                    </div>
                </div>


                <!-- <ul class="navbar-nav ml-auto">
                    <li class="nav-item d-flex align-items-center">
                        <a class="nav-link" href="https://www.buymeacoffee.com/flyingbacksheep" target="_blank">give a gift now!</a>
                    </li>
                </ul> -->

            </div>
        </nav>
    </div>

    <div class="container custom-container">

        <form class="mx-auto">
            <h2 class="mt-4 mb-3">Speech-to-Text Transcription</h2>
            <p class="font-weight-light text-secondary">To use this tool, click 'Start Transcribing' to convert your
                speech to
                text. If no voice is detected for a few
                seconds, the transcription will automatically stop. Remember to copy or download after each stop of
                transcription because by clicking the 'Start Transcribing' button, it will override the previous
                transcription.</p>
            <!-- <p class="font-weight-bold text-secondary">Use Transcription for English Speaking Test Feedback</p> -->
            <p class="mb-4 font-weight-light text-secondary">To receive feedback for
                English
                speaking tests, simply copy your prompt and paste it to chatbot like ChatGPT for feedback. Please note,
                the feedback generated relates only to the transcribed text, not on pronunciation or intonation aspects
                of your
                speech.</p>

            <div class="mb-4 col-12 px-0">
                <div class="mb-4 col-12 px-0" style="display: flex;">
                    <button type="button" id="start-transcribing" class="btn btn-primary" onclick="startRecognition()">
                        Start Transcribing
                    </button>


                    <button type="button" id="stop-button" class="btn btn-dark ml-3" onclick="stopRecognition()"
                        style="display: none;">Stop Transcribing</button>
                </div>

            </div>
            <div class="col-12 px-0">
                <div class="d-flex flex-column flex-md-row justify-content-between mt-3">
                    <div>
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2"
                            onclick="copyTranscription()">Copy
                            Transcription</button>
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2"
                            onclick="downloadTranscription()">Download Transcription</button>
                    </div>
                    <div class="d-flex align-items-center">
                        <!-- New Button -->
                        <button type="button" id="help-feedback" class="btn btn-sm mr-3">
                            <img src="/img/help.svg" alt="Help" class="help-img">
                        </button>
                        <div class="dropdown">
                            <button class="btn btn-outline-secondary dropdown-toggle btn-sm" type="button"
                                id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
                                aria-expanded="false">
                                Copy Prompt for Feedback
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item" href="#" onclick="celpipSpeakingPrompt()">CELPIP</a>
                                <a class="dropdown-item" href="#" onclick="ieltsSpeakingPrompt()">IELTS</a>
                                <a class="dropdown-item" href="#" onclick="toeflSpeakingPrompt()">TOEFL iBT</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <div class="row position-relative">
                <div class="col-12">
                    <div id="transcription-results" class="my-4"></div>
                </div>
            </div>

            <div id="alert-container"></div>

        </form>


    </div>

    <div class="modal fade" id="footerModal" tabindex="-1" aria-labelledby="footerModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="footerModalLabel">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- The content here will be replaced when a footer link is clicked -->
                </div>
            </div>
        </div>
    </div>

    <footer class="footer mt-auto py-2 bg-light small-text">
        <div class="container">
            <div class="row">
                <div class="col">
                    <a class="nav-link  text-secondary" id="aboutLink" href="#">About</a>
                </div>
                <div class="col">
                    <a class="nav-link  text-secondary" id="helpLink" href="#">Help/FAQ</a>
                </div>
                <div class="col">
                    <a class="nav-link  text-secondary" id="legalLink" href="#">Legal</a>
                </div>
                <div class="col">
                    <a class="nav-link  text-secondary" id="contactLink" href="#">Contact</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Add jQuery, Popper.js, and Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script defer src="/_vercel/insights/script.js"></script>
    <script src="js/main.js"></script>
    <script src="js/modalHandling.js"></script>
    <script src="js/promptGenerator.js"></script>
    <script src="js/speakingPage.js"></script>
</body>

</html>
